function loadData(a,e){(a=a||Object.keys(OPEN_COVID_CONFIG.tables)).forEach((a=>function(a,t){const r=Math.round(Date.now()/1e3/60),o=`${OPEN_COVID_CONFIG["data-url"]}/v2/${t}`;$.getJSON(`${o}?cache=${r}`,(t=>e(a,t)))}(a,a+".json")))}function tableToRecords(a){return a.data.map((e=>a.columns.reduce(((a,t,r)=>Object.assign(a,{[t]:e[r]})),{})))}function removeEmptyColumns(a){const e=[];return a.forEach((a=>{Object.keys(a).forEach((t=>{a[t]&&e.push(t)}))})),a.map((a=>e.reduce(((e,t)=>Object.assign(e,{[t]:a[t]})),{})))}function retryCallback(a){let e=0;const t=setInterval((()=>{try{a(),clearInterval(t)}catch(a){console.error("Callback failed: "+ ++e,a),e>=32&&clearInterval(t)}}),250)}async function loadResource(a){const e=await fetch(a);if(e.ok)return e;throw new Error("Response failed")}function loadCSV(a,e=!1){return a in CACHE.CSV||(CACHE.CSV[a]=new Promise((async(t,r)=>{e&&(a="https://cors-anywhere.herokuapp.com/"+a);const o=await loadResource(a),n=await o.text();Papa.parse(n,{header:!0,skipEmptyLines:!0,complete:a=>{a.errors.length>0?r(a.errors[0]):t(a.data)}})}))),CACHE.CSV[a]}function recordsToDataTable(a,e=null){const t=[e=e||Object.keys(a[0])].concat(a.map((a=>e.map((e=>a[e])))));return google.visualization.arrayToDataTable(t)}function loadGoogleCharts(a=["corechart"]){const e=a.join(",");return e in CACHE.gcharts||(CACHE.gcharts[e]=google.charts.load("current",{packages:a})),CACHE.gcharts[e]}