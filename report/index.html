<!DOCTYPE html><html><!-- HTML page head --><head>
    <!-- HTML metadata -->
    <meta charset="UTF-8">
    <title>Open COVID-19</title>
    <meta name="description" content="Interactive map for the Open COVID-19 Dataset">
    <link rel="icon" type="image/png" href="../static/logo-64.png">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Open COVID-19">

    <!-- Homescreen icons -->
    <link rel="apple-touch-icon" href="../static/icon-64x64.png">
    <link rel="apple-touch-icon" sizes="64x64" href="../static/icon-64x64.png">
    <link rel="apple-touch-icon" sizes="128x128" href="../static/icon-128x128.png">
    <link rel="apple-touch-icon" sizes="512x512" href="../static/icon-512x512.png">

    <!-- Capabilities-related metadata -->
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">

    <!-- JQuery and plugins -->
    <script type="text/javascript" src="../third_party/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="../third_party/jquery-ui-dist/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../third_party/jqvmap/dist/jquery.vmap.min.js"></script>
    <script type="text/javascript" src="../static/jquery.ui.combobox.min.js"></script>
    <script type="text/javascript" src="../third_party/jqvmap/dist/maps/jquery.vmap.world.js" charset="utf-8"></script>
    <link rel="stylesheet" href="../third_party/jqvmap/dist/jqvmap.min.css">
    <link rel="stylesheet" href="../third_party/jquery-ui-dist/jquery-ui.min.css">

    <!-- MomentJS -->
    <script type="text/javascript" src="../third_party/moment/min/moment.min.js"></script>

    <!-- Custom styles -->
    <link rel="stylesheet" href="../third_party/picnic/picnic.min.css">
    <link rel="stylesheet" href="../static/styles.min.css">

    <!-- Polyfills, custom functions and constants -->
    <script type="text/javascript" src="../static/polyfills.min.js"></script>
    <script type="text/javascript" src="../static/open-covid-19.min.js"></script>
    <script type="text/javascript">const DEFAULT_OPTIONS={"data-url":"https://storage.googleapis.com/covid19-open-data","history-size":21,"chart-style":"bar","epi-reporting":"daily"},CURRENT_OPTIONS=Object.keys(DEFAULT_OPTIONS).reduce((e,o)=>Object.assign(e,{[o]:sessionStorage.getItem(o)||DEFAULT_OPTIONS[o]}),{}),OPEN_COVID_CONFIG=Object.assign({tables:{index:"Index",demographics:"Demographics",economy:"Economy",epidemiology:"Epidemiology",geography:"Geography",health:"Health",hospitalizations:"Hospitalizations",mobility:"Mobility","oxford-government-response":"Oxford Government Response",weather:"Weather",worldbank:"Worldbank","by-age":"Breakdown by Age","by-sex":"Breakdown by Sex"}},CURRENT_OPTIONS);console.log(OPEN_COVID_CONFIG);</script>


<!-- Google Charts -->
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">let chartLoaded=!1;const pendingCallbacks=[];window.chart=function(a){chartLoaded?retryCallback(a):pendingCallbacks.push(a)},google.charts.load("current",{packages:["corechart","bar","line"],callback:()=>{chartLoaded=!0,pendingCallbacks.forEach(a=>retryCallback(a))}});</script>

</head><body class="single-column">

    <!-- Header with links -->
    <header id="debug-header" style="border: 4px solid red; display: none;">
    <a id="debug-clear-button" class="centered uppercase" href="#">Using custom endpoint, click here to reset</a>
</header>

<a id="debug-button" href="../debug">
    <img src="../static/bug.png" height="auto" width="100%">
</a>

<script>$(window).on("scroll",o=>{const n=$("#debug-button");$(window).scrollTop()+$(window).height()==$(document).height()?n.show():n.hide()});</script>


<header>
    <a class="centered uppercase" href="..">World Map</a>
    <a class="centered uppercase" href="../about">About</a>
    <a class="centered uppercase" href="https://github.com/open-covid-19/data" target="_blank">Source</a>
    <a class="centered uppercase" href="mailto:oscar@wahltinez.org" target="_blank">Contact</a>
</header>


    <div class="spacer"></div>

    <!-- Location search bar -->
    <div class="centered fullwidth">
    <input disabled id="location-selector" type="search" placeholder="Search for any location" results="0">
</div>
<script>loadData(["index"],(e,a)=>{const o=tableToRecords(a).map(e=>{let a="";switch(e.aggregation_level){case 0:return a=`${e.country_name} [${e.key}]`,{value:e.key,label:a};case 1:return a=`${e.subregion1_name}, ${e.country_name} [${e.key}]`,{value:e.key,label:a};case 2:return a=`${e.subregion2_name}, ${e.subregion1_name} ${e.country_code} [${e.key}]`,{value:e.key,label:a};case 3:return a=`${e.locality_name}, ${e.subregion1_name} ${e.country_code} [${e.key}]`,{value:e.key,label:a};default:console.error("Unknown aggregation level for record:"),console.error(e)}}).filter(e=>e&&e.value&&e.label);$("#location-selector").autocomplete({minLength:2,source:o,select:function(e,a){const l=a.item.value;-1!==o.map(e=>e.value).indexOf(l)&&window.goto(`?key=${l}`)}}),$("#location-selector").attr("disabled",!1)});</script>

    <main>

        <!-- Title of the report -->
        <h1 id="report-title" class="centered"><span class="_name">COVID-19 Data</span></h1>

        <div id="report-confirmed">
            <h3 class="centered"><span class="_epi_reporting"></span> Confirmed Cases</h3>
            <p id="no-new-confirmed" class="justify" style="display: none;">
                There are no new confirmed COVID-19 cases reported in the last
                <b><span class="_window_size"></span></b> days. The total number of
                confirmed cases <b><span class="_confirmed_curr"></span></b>. The first
                reported case was on <b><span class="_confirmed_first"></span></b>.
            </p>
            <p id="confirmed-summary" class="justify">
                The last reported number of cumulative confirmed COVID-19 cases is
                <b><span class="_confirmed_curr"></span></b>, which is a difference of
                <b>+<span class="_confirmed_diff"></span></b> from the previous day. The first
                reported case was on <b><span class="_confirmed_first"></span></b>.
            </p>
            <div id="confirmed-chart" class="fullwidth">
                <img src="../static/transparent.png" height="500px">
            </div>
            <div class="spacer"></div>
        </div>


        <div id="report-rolling-confirmed">
            <h3 class="centered"><span class="_rolling_window"></span>-Day Cumulative Cases</h3>
            <p id="no-new-confirmed" class="justify" style="display: none;">
                There are no new confirmed COVID-19 cases reported in the previous
                <b><span class="_confirmed_records"></span></b> days.
            </p>
            <p class="justify">
                This chart shows the cumulative number of confirmed COVID-19 cases over the previous
                <b><span class="_rolling_window"></span></b> days. It represents an approximation
                for the number of active cases in this location.
            </p>
            <div id="rolling-confirmed-chart" class="fullwidth">
                <img src="../static/transparent.png" height="500px">
            </div>
            <div class="spacer"></div>
        </div>


        <div id="report-deaths">
            <h3 class="centered"><span class="_epi_reporting"></span> Fatalities</h3>
            <p id="no-new-deaths" class="justify" style="display: none;">
                There are no new fatalities associated with COVID-19 reported in the last
                <b><span class="_window_size"></span></b> days. The total number of fatalities
                is <b><span class="_deaths_curr"></span></b>. The first
                reported fatality was on <b><span class="_deceased_first"></span></b>.
            </p>
            <p id="deaths-summary" class="justify">
                The latest reports claim a cumulative death toll related to COVID-19 of
                <b><span class="_deaths_curr"></span></b>, which is an increase of
                <b>+<span class="_deaths_diff"></span></b> since the previous day. The first
                reported fatality was on <b><span class="_deceased_first"></span></b>.
            </p>
            <div id="deaths-chart" class="fullwidth">
                <img src="../static/transparent.png" height="500px">
            </div>
            <div class="spacer"></div>
        </div>


        <div id="report-mobility" style="display: none;">
            <h3 class="centered">Mobility Report</h3>
            <p class="justify">
                The following chart is a condensed view of
                <a href="https://www.google.com/covid19/mobility/" target="_blank">Google's
                    Mobility Report</a> for <span class="_name"></span>. It represents the change
                in movement aggregated across Google Maps users for certain categories compared
                to the average.
            </p>
            <div id="mobility-chart" class="fullwidth"></div>
            <div class="spacer"></div>
        </div>

        <div id="report-demographics" style="display: none;">
            <h3 class="centered">Demographics</h3>
            <table id="table-demographics" style="margin: auto;"></table>
            <div class="spacer"></div>
        </div>


        <!-- Setup report data -->
        <script>const key=URLSearchParameters().key,dataFilter=e=>e.key===key,sub=(e,t)=>$(`._${e}`).each(function(){$(this).text(t)}),prettyPrintNumber=e=>e?e.toLocaleString():"n/a",minLength=7,clientWidth=document.querySelector("main").getBoundingClientRect().width,chartHeight=Math.min(480,Math.max(224,Math.round(2*clientWidth/3)));function drawEpiChart(e,t,o){let n,a;switch(OPEN_COVID_CONFIG["chart-style"]){case"bar":n=new google.charts.Bar(e),a=google.charts.Bar.convertOptions;break;case"line":n=new google.charts.Line(e),a=google.charts.Line.convertOptions;break;default:n=new google.charts.Bar(e),a=google.charts.Bar.convertOptions}n.draw(google.visualization.arrayToDataTable(t),google.charts.Bar.convertOptions({height:chartHeight,colors:[o],hAxis:{title:""},vAxis:{viewWindow:{min:0}},legend:{position:"none"}}))}function onIndexLoaded(e){switch(e.aggregation_level){case 0:sub("name",`${e.country_name}`);break;case 1:sub("name",`${e.subregion1_name}, ${e.country_code}`);break;case 2:sub("name",`${e.subregion2_name}, ${e.subregion1_code} ${e.country_code}`);break;case 3:sub("name",`${e.locality_name}, ${e.subregion1_code} ${e.country_code}`)}}function onEpidemiologyLoaded(e){const t=OPEN_COVID_CONFIG["history-size"],o=t>0?t:e.length;sub("window_size",o);const n=OPEN_COVID_CONFIG["epi-reporting"];sub("epi_reporting",n.charAt(0).toUpperCase()+n.slice(1));const a=e.filter(e=>null!==e.new_confirmed),r=a.length;if(r<minLength)console.log("Confirmed report not available"),$("#report-confirmed").hide();else{const t=e.filter(e=>e.new_confirmed>0||e.total_confirmed>0)[0]||{},o=e.filter(e=>e.total_confirmed||e.new_confirmed).slice(-1)[0]||{};sub("confirmed_curr",prettyPrintNumber(o.total_confirmed)),sub("confirmed_diff",prettyPrintNumber(o.new_confirmed)),sub("confirmed_records",prettyPrintNumber(r)),sub("confirmed_first",moment(t.date).format("LL"))}if(0===a.slice(-o).reduce((e,t)=>e+t.new_confirmed,0))$("#no-new-confirmed").show(),$("#confirmed-chart").hide(),$("#confirmed-summary").hide(),$("#report-rolling-confirmed").hide();else{a.slice(-1)[0];chart(()=>{const t=["date","cumulative"===n?"total_confirmed":"new_confirmed"],a=[t].concat(e.filter(e=>t.every(t=>null!==e[t])).map(e=>t.slice(0).map(t=>e[t])).slice(-o));drawEpiChart(document.getElementById("confirmed-chart"),a,"#1565C0")});const t=14;sub("rolling_window",t);const r=a.map((e,o)=>{const n=Math.max(0,o-t),r=a.slice(n,o).reduce((e,t)=>e+t.new_confirmed,0);return{date:e.date,rolling_confirmed:r}});chart(()=>{const e=["date","rolling_confirmed"],t=[e].concat(r.filter(t=>e.every(e=>null!==t[e])).map(t=>e.slice(0).map(e=>t[e])).slice(-o));drawEpiChart(document.getElementById("rolling-confirmed-chart"),t,"#FF9800")})}const i=e.map(e=>e.new_deceased).filter(e=>null!==e).length;if(i<minLength)console.log("Fatalities report not available"),$("#report-deaths").hide();else{const t=e.filter(e=>e.new_deceased>0||e.total_deceased>0)[0]||{},o=e.filter(e=>e.total_deceased||e.new_deceased).slice(-1)[0]||{};sub("deaths_curr",prettyPrintNumber(o.total_deceased)),sub("deaths_diff",prettyPrintNumber(o.new_deceased)),sub("deaths_records",prettyPrintNumber(i)),sub("deceased_first",moment(t.date).format("LL"))}0===e.slice(-o).reduce((e,t)=>e+t.new_deceased,0)?($("#no-new-deaths").show(),$("#deaths-chart").hide(),$("#deaths-summary").hide()):chart(()=>{const t=["date","cumulative"===n?"total_deceased":"new_deceased"],a=[t].concat(e.filter(e=>t.every(t=>null!==e[t])).map(e=>t.slice(0).map(t=>e[t])).slice(-o));drawEpiChart(document.getElementById("deaths-chart"),a,"#B71C1C")})}function onMobilityLoaded(e){if(e.length>4){e[e.length-1];$("#report-mobility").show(),e=removeEmptyColumns(e),chart(()=>{const t=["date"].concat(Object.keys(e[0]).slice(2)),o=[t.map(e=>e.replace("mobility_",""))].concat(e.map(e=>t.slice(0).map(t=>e[t]))),n=document.getElementById("mobility-chart");new google.visualization.AreaChart(n).draw(google.visualization.arrayToDataTable(o),{height:chartHeight,legend:{position:"in"},hAxis:{slantedText:!1},chartArea:{top:24,left:32,width:"90%",height:"80%"}})})}}function onDemographicsLoaded(e){Object.keys(e).some(t=>null!=e[t])&&($("#report-demographics").show(),$("#table-demographics").html(Object.keys(e).map((t,o)=>`<tr><td><b>${t}</b></td><td>${prettyPrintNumber(e[t])}</td >`)))}loadData([`${key}/main`],(e,t)=>{const o=tableToRecords(t);console.log(o),onIndexLoaded(o[0]),onEpidemiologyLoaded(o),onMobilityLoaded(o.map(e=>Object.assign({},Object.keys(e).reduce((t,o)=>-1===o.indexOf("mobility")?t:Object.assign(t,{[o]:e[o]}),{date:e.date}))).filter(e=>Object.keys(e).reduce((t,o)=>"date"===o?t:t||e[o],!1))),loadData(["latest/demographics"],(e,t)=>{const n=o[0];onDemographicsLoaded(Object.keys(tableToRecords(t)[0]).reduce((e,t)=>"key"===t||null===n[t]?e:Object.assign(e,{[t]:n[t]}),{}))})});</script>
    </main>

    <!-- Load analytics at the end of the page -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-53249564-6"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-53249564-6");</script>



</body></html>